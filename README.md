# Companion AI - 智能聊天应用

基于 uni-app + Vue3 (Composition API) + uview-plus 开发的跨平台 AI 聊天应用

## 项目概述

一款功能完整的AI聊天应用，采用温馨舒适的UI设计，支持多端运行（H5、微信小程序、APP）。使用组合式API开发，代码结构清晰，交互流畅自然。

## 使用步骤
首先使用hbuilderX打开项目并在manifest.json中配置appid,然后右键项目目录选择在终端打开，并使用npm i 安装依赖，然后再使用运行到微信开发者工具，即可实现体验。


## 已实现功能

### 📱 核心页面（共6个）

#### 1. 对话列表页 (chat-list)
- ✅ 展示所有会话记录（头像、昵称、最后消息、时间）
- ✅ 未读消息红点提示（点击进入后自动清除）
- ✅ 下拉刷新对话列表
- ✅ 点击跳转到聊天详情页
- ✅ 流畅的列表滚动和点击反馈

#### 2. 聊天详情页 (chat-detail)
- ✅ 完整的对话记录展示（支持文本和图片消息）
- ✅ 左右分布区分发送方
  - 用户消息：右侧，橙色气泡 (#FFD4A3)
  - AI消息：左侧，白色气泡
- ✅ 温馨米黄色背景 (#F5F1E8)
- ✅ 底部输入框（固定定位，支持发送消息）
- ✅ 语音输入按钮（UI已实现）
- ✅ 发送按钮（使用本地图标 fasong.png）
- ✅ 发送后自动滚动到底部（带动画）
- ✅ 模拟AI自动回复功能
- ✅ 消息点赞/点踩功能
  - 仅在接收的消息中显示
  - 支持切换状态（互斥）
  - 带过渡动画效果
  - 操作后显示Toast提示
- ✅ 下拉刷新（加载历史消息）
- ✅ 上拉加载更多
- ✅ 导航栏右侧预留空间（避免与小程序胶囊重叠）

#### 3. 联系人列表页 (contact)
- ✅ 展示所有联系人（头像、昵称、个性签名）
- ✅ VIP等级标识（金色标签）
- ✅ 点击跳转到联系人详情页

#### 4. 联系人详情页 (contact-detail)
- ✅ 展示联系人完整信息
  - 大头像展示
  - 昵称、等级徽章
  - 个性签名
- ✅ 底部"发起对话"按钮
- ✅ 点击跳转到聊天详情页
- ✅ 精美的卡片式布局

#### 5. 个人中心页 (profile)
- ✅ 展示当前用户信息
  - 头像、昵称
  - 账号ID
  - 个性签名
- ✅ 功能菜单
  - 编辑资料（可跳转）
  - 设置
  - 帮助与反馈
  - 关于
- ✅ 使用 onShow 生命周期（返回时自动刷新数据）

#### 6. 编辑资料页 (profile-edit)
- ✅ 头像修改（支持相册/相机选择）
- ✅ 昵称编辑（最多20字）
- ✅ 个性签名编辑（最多100字）
- ✅ 账号ID显示（只读，不可编辑）
- ✅ 表单验证（昵称必填）
- ✅ 保存功能
  - 显示加载状态
  - 保存成功提示
  - 自动返回上一页
  - 数据实时同步到个人中心

### 🎨 UI/UX 特性

- **配色方案**
  - 主题色：薄荷绿 (#6ECFBD)
  - 聊天背景：温馨米黄 (#F5F1E8)
  - 用户消息气泡：温暖橙 (#FFD4A3)
  - AI消息气泡：纯白 (#FFFFFF)
  - TabBar选中色：天蓝 (#1296db)

- **交互动画**
  - 消息发送淡入动画
  - 按钮点击缩放反馈
  - 点赞/点踩过渡效果
  - 自动滚动带动画
  - 下拉刷新加载动画

- **细节优化**
  - 消息气泡圆角、阴影效果
  - 输入框圆角、阴影设计
  - 卡片式布局，视觉层次分明
  - 底部安全区域适配
  - 小程序胶囊按钮避让

### 🔧 技术实现

- **开发框架**：uni-app (Vue3)
- **编程范式**：Composition API (`<script setup>`)
- **UI组件库**：uview-plus
- **数据管理**：Mock数据（JSON格式，统一管理）
- **生命周期**：onLoad、onShow、onMounted
- **响应式**：ref、nextTick

### 📦 使用的 uview-plus 组件

| 组件 | 用途 |
|------|------|
| u-navbar | 顶部导航栏 |
| u-avatar | 头像展示 |
| u-cell / u-cell-group | 列表单元格 |
| u-badge | 未读消息徽章 |
| u-tag | VIP等级标签 |
| u-icon | 图标 |
| u-input | 输入框 |
| u-image | 图片展示 |

### 📂 数据结构

所有Mock数据存储在 `utils/mock-data.js`：

```javascript
// 对话列表
chatList: [{ id, avatar, nickname, lastMessage, time, unread }]

// 联系人列表
contacts: [{ id, avatar, nickname, signature, level }]

// 聊天消息（按chatId分组）
messages: {
  1: [{ id, type, content, time, image?, liked, disliked }]
}

// 当前用户信息
userInfo: { avatar, nickname, id, signature }
```

### 🎯 页面导航流程

```
TabBar导航：
├─ 对话列表 (chat-list)
│  └─ 点击对话 → 聊天详情 (chat-detail)
│
├─ 联系人 (contact)
│  └─ 点击联系人 → 联系人详情 (contact-detail)
│     └─ 发起对话 → 聊天详情 (chat-detail)
│
└─ 个人中心 (profile)
   └─ 编辑资料 → 编辑资料页 (profile-edit)
      └─ 保存 → 返回个人中心（数据已更新）
```

### 🚀 运行方式

```bash
# 安装依赖
npm install

# 运行到H5
npm run dev:h5

# 运行到微信小程序
npm run dev:mp-weixin

# 运行到APP
npm run dev:app
```

或在 HBuilderX 中直接运行到浏览器/模拟器/真机

## 项目特点

✨ **代码简洁**：组合式API，逻辑清晰，易于维护  
🎨 **UI精美**：温馨配色，细节打磨，交互流畅  
📱 **跨平台**：一套代码，多端运行  
🔧 **易扩展**：模块化设计，便于功能迭代  
⚡ **性能优化**：列表滚动优化，动画流畅自然
